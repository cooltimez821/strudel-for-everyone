<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Strudel - Interactive Tutorial</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <h1>üéµ Learn Strudel</h1>
            <ul>
                <li><a href="#intro">Introduction</a></li>
                <li><a href="#basics">Basics</a></li>
                <li><a href="#patterns">Patterns</a></li>
                <li><a href="#sounds">Sounds</a></li>
                <li><a href="#advanced">Advanced</a></li>
                <li><a href="#repl">Live REPL</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="intro" class="tutorial-section">
            <h2>What is Strudel?</h2>
            <p>Strudel is a web-based live coding environment for creating algorithmic music patterns. It's a JavaScript port of TidalCycles that runs directly in your browser.</p>
            
            <div class="feature-grid">
                <div class="feature">
                    <h3>üéπ Live Coding</h3>
                    <p>Write code that generates music in real-time</p>
                </div>
                <div class="feature">
                    <h3>üåê Web-Based</h3>
                    <p>No installation required - runs in any modern browser</p>
                </div>
                <div class="feature">
                    <h3>üéµ Pattern-Based</h3>
                    <p>Create complex rhythms and melodies using simple patterns</p>
                </div>
            </div>

            <div class="try-it">
                <h3>Try it now!</h3>
                <p>Here's your first Strudel pattern - a simple drum beat:</p>
                <div class="code-example">
                    <pre><code>sound("bd hh sd hh")</code></pre>
                </div>
                <p>This plays: <strong>bd</strong> (bass drum), <strong>hh</strong> (hi-hat), <strong>sd</strong> (snare drum), <strong>hh</strong> (hi-hat)</p>
            </div>
        </section>

        <section id="basics" class="tutorial-section">
            <h2>Basic Concepts</h2>
            
            <div class="concept">
                <h3>Patterns</h3>
                <p>Everything in Strudel is a pattern. Patterns describe sequences of events over time.</p>
                <div class="code-example">
                    <pre><code>// A simple drum pattern
sound("bd sd bd sd")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Samples</h3>
                <p>Strudel comes with built-in sound samples. Common ones include:</p>
                <ul>
                    <li><code>bd</code> - Bass drum</li>
                    <li><code>sd</code> - Snare drum</li>
                    <li><code>hh</code> - Hi-hat</li>
                    <li><code>cp</code> - Clap</li>
                    <li><code>oh</code> - Open hi-hat</li>
                    <li><code>cy</code> - Cymbal</li>
                </ul>
                <div class="code-example">
                    <pre><code>// Try different sounds
sound("bd cp hh oh")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Rests</h3>
                <p>Use <code>~</code> (tilde) to create silence in your patterns:</p>
                <div class="code-example">
                    <pre><code>// Pattern with rests
sound("bd ~ sd ~")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Multiple Samples</h3>
                <p>Access different variations using numbers:</p>
                <div class="code-example">
                    <pre><code>// Different bass drums
sound("bd:0 bd:1 bd:2 bd:3")</code></pre>
                </div>
            </div>
        </section>

        <section id="patterns" class="tutorial-section">
            <h2>Pattern Functions</h2>
            
            <div class="concept">
                <h3>Speed Control</h3>
                <p>Control the speed of your patterns:</p>
                <div class="code-example">
                    <pre><code>// Double speed
sound("bd hh sd hh").fast(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Half speed
sound("bd hh sd hh").slow(2)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Reverse</h3>
                <p>Play patterns backwards:</p>
                <div class="code-example">
                    <pre><code>// Reversed pattern
sound("bd hh sd hh").rev()</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Repetition</h3>
                <p>Repeat elements within patterns:</p>
                <div class="code-example">
                    <pre><code>// Repeat each element
sound("bd*2 sd hh*3")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Subdivision</h3>
                <p>Divide beats into smaller parts:</p>
                <div class="code-example">
                    <pre><code>// Subdivide beats
sound("bd [hh hh] sd [hh oh]")</code></pre>
                </div>
            </div>
        </section>

        <section id="sounds" class="tutorial-section">
            <h2>Working with Sounds</h2>
            
            <div class="concept">
                <h3>Sample Banks</h3>
                <p>Strudel includes various sample banks:</p>
                <div class="code-example">
                    <pre><code>// Piano samples
sound("piano:0 piano:1 piano:2")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Vocal samples
sound("vocal:0 vocal:1 vocal:2")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Effects</h3>
                <p>Add effects to your sounds:</p>
                <div class="code-example">
                    <pre><code>// Add reverb
sound("bd sd").room(0.5)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Low-pass filter
sound("hh*8").lpf(800)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Delay effect
sound("sd").delay(0.25)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Volume Control</h3>
                <p>Control the volume of sounds:</p>
                <div class="code-example">
                    <pre><code>// Quiet hi-hats
sound("bd hh*4 sd hh*4").gain("1 0.3 1 0.3")</code></pre>
                </div>
            </div>
        </section>

        <section id="advanced" class="tutorial-section">
            <h2>Advanced Techniques</h2>
            
            <div class="concept">
                <h3>Layering Patterns</h3>
                <p>Combine multiple patterns using <code>stack()</code>:</p>
                <div class="code-example">
                    <pre><code>// Layer drums and bass
stack(
  sound("bd ~ bd ~"),
  sound("~ sd ~ sd"),
  sound("hh*8").gain(0.3)
)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Euclidean Rhythms</h3>
                <p>Create complex rhythms with euclidean patterns:</p>
                <div class="code-example">
                    <pre><code>// 3 hits in 8 steps
sound("bd").euclidean(3, 8)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// 5 hits in 12 steps
sound("cp").euclidean(5, 12)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Pattern Transformations</h3>
                <p>Transform patterns over time:</p>
                <div class="code-example">
                    <pre><code>// Gradually speed up
sound("bd hh sd hh").fast(sine.range(1, 4))</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Random variations
sound("bd sd").sometimes(x => x.fast(2))</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Melodic Patterns</h3>
                <p>Create melodies with notes:</p>
                <div class="code-example">
                    <pre><code>// Simple melody
sound("piano").note("c d e f g a b c5")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Chord progression
sound("piano").note("&lt;c e g&gt; &lt;d f a&gt; &lt;e g b&gt; &lt;f a c5&gt;")</code></pre>
                </div>
            </div>
        </section>

        <section id="repl" class="tutorial-section">
            <h2>üéÆ Live Strudel REPL</h2>
            <p>Now try the real Strudel REPL! Copy any example from above and paste it here, or write your own patterns.</p>
            
            <div class="repl-container">
                <div class="repl-instructions">
                    <h3>How to use:</h3>
                    <ul>
                        <li>Type or paste Strudel code in the editor below</li>
                        <li>Press <kbd>Ctrl+Enter</kbd> (or <kbd>Cmd+Enter</kbd> on Mac) to play</li>
                        <li>Press <kbd>Ctrl+.</kbd> to stop all sounds</li>
                        <li>Try the example buttons for quick starts</li>
                    </ul>
                </div>
                
                <div class="example-buttons">
                    <button class="example-btn" data-code='sound("bd hh sd hh")'>Basic Beat</button>
                    <button class="example-btn" data-code='sound("bd sd").fast(2)'>Fast Beat</button>
                    <button class="example-btn" data-code='sound("hh*8").lpf(400)'>Filtered Hi-hats</button>
                    <button class="example-btn" data-code='stack(sound("bd ~ bd ~"), sound("~ sd ~ sd"), sound("hh*8").gain(0.3))'>Layered Drums</button>
                    <button class="example-btn" data-code='sound("piano").note("c d e f g a b c5")'>Piano Melody</button>
                    <button class="example-btn" data-code='sound("bd").euclidean(3, 8)'>Euclidean Rhythm</button>
                </div>

                <iframe 
                    id="strudel-repl" 
                    src="https://strudel.cc/?embed=1&hideHeader=1&hideFooter=1" 
                    width="100%" 
                    height="600"
                    frameborder="0"
                    allow="autoplay; microphone">
                </iframe>
            </div>

            <div class="repl-tips">
                <h3>üí° Pro Tips:</h3>
                <ul>
                    <li><strong>Start simple:</strong> Begin with <code>sound("bd hh sd hh")</code></li>
                    <li><strong>Layer sounds:</strong> Use <code>stack()</code> to combine patterns</li>
                    <li><strong>Add effects:</strong> Try <code>.room(0.5)</code>, <code>.lpf(800)</code>, <code>.delay(0.25)</code></li>
                    <li><strong>Control speed:</strong> Use <code>.fast(2)</code> or <code>.slow(2)</code></li>
                    <li><strong>Create melodies:</strong> Use <code>.note("c d e f")</code> with piano or synth sounds</li>
                    <li><strong>Make it random:</strong> Try <code>.sometimes(x => x.fast(2))</code></li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p>Learn more at <a href="https://strudel.cc" target="_blank">strudel.cc</a></p>
        <p>Built with ‚ù§Ô∏è for the live coding community</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>