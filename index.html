<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Strudel - Interactive Tutorial</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <h1>üéµ Learn Strudel</h1>
            <ul>
                <li><a href="#intro">Introduction</a></li>
                <li><a href="#basics">Basics</a></li>
                <li><a href="#patterns">Patterns</a></li>
                <li><a href="#building">Building Up</a></li>
                <li><a href="#sounds">Sounds</a></li>
                <li><a href="#advanced">Advanced</a></li>
                <li><a href="#repl">Live REPL</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="intro" class="tutorial-section">
            <h2>What is Strudel?</h2>
            <p>Strudel is a web-based live coding environment for creating algorithmic music patterns. It's a JavaScript port of TidalCycles that runs directly in your browser.</p>
            
            <div class="feature-grid">
                <div class="feature">
                    <h3>üéπ Live Coding</h3>
                    <p>Write code that generates music in real-time</p>
                </div>
                <div class="feature">
                    <h3>üåê Web-Based</h3>
                    <p>No installation required - runs in any modern browser</p>
                </div>
                <div class="feature">
                    <h3>üéµ Pattern-Based</h3>
                    <p>Create complex rhythms and melodies using simple patterns</p>
                </div>
            </div>

            <div class="try-it">
                <h3>Try it now!</h3>
                <p>Here's your first Strudel pattern - a simple drum beat:</p>
                <div class="code-example">
                    <pre><code>sound("bd hh sd hh")</code></pre>
                </div>
                <p>This plays: <strong>bd</strong> (bass drum), <strong>hh</strong> (hi-hat), <strong>sd</strong> (snare drum), <strong>hh</strong> (hi-hat)</p>
            </div>
        </section>

        <section id="basics" class="tutorial-section">
            <h2>Basic Concepts</h2>
            
            <div class="concept">
                <h3>Patterns</h3>
                <p>Everything in Strudel is a pattern. Patterns describe sequences of events over time.</p>
                <div class="code-example">
                    <pre><code>// A simple drum pattern
sound("bd sd bd sd")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Samples</h3>
                <p>Strudel comes with built-in sound samples. Common ones include:</p>
                <ul>
                    <li><code>bd</code> - Bass drum (kick)</li>
                    <li><code>sd</code> - Snare drum</li>
                    <li><code>hh</code> - Hi-hat (closed)</li>
                    <li><code>oh</code> - Open hi-hat</li>
                    <li><code>cp</code> - Clap</li>
                    <li><code>cy</code> - Cymbal</li>
                    <li><code>mt</code> - Mid tom</li>
                    <li><code>lt</code> - Low tom</li>
                </ul>
                <div class="code-example">
                    <pre><code>// Try different sounds
sound("bd cp hh oh")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Rests</h3>
                <p>Use <code>~</code> (tilde) to create silence in your patterns:</p>
                <div class="code-example">
                    <pre><code>// Pattern with rests
sound("bd ~ sd ~")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Multiple Samples</h3>
                <p>Access different variations using numbers:</p>
                <div class="code-example">
                    <pre><code>// Different bass drums
sound("bd:0 bd:1 bd:2 bd:3")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Mix different snares
sound("sd:0 sd:1 sd:2 sd:3")</code></pre>
                </div>
            </div>
        </section>

        <section id="patterns" class="tutorial-section">
            <h2>Pattern Functions</h2>
            
            <div class="concept">
                <h3>Speed Control</h3>
                <p>Control the speed of your patterns:</p>
                <div class="code-example">
                    <pre><code>// Double speed
sound("bd hh sd hh").fast(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Half speed
sound("bd hh sd hh").slow(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Double speed
sound("bd hh sd hh").fast(2)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Reverse</h3>
                <p>Play patterns backwards:</p>
                <div class="code-example">
                    <pre><code>// Reversed pattern
sound("bd hh sd hh").rev()</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Sometimes reverse
sound("bd hh sd hh").sometimes(x => x.rev())</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Repetition</h3>
                <p>Repeat elements within patterns:</p>
                <div class="code-example">
                    <pre><code>// Repeat each element
sound("bd*2 sd hh*3")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Complex repetition
sound("bd*2 [sd cp]*2 hh*4")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Subdivision</h3>
                <p>Divide beats into smaller parts:</p>
                <div class="code-example">
                    <pre><code>// Subdivide beats
sound("bd [hh hh] sd [hh oh]")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Nested subdivisions
sound("bd [hh [cp cp]] sd [hh oh]")</code></pre>
                </div>
            </div>
        </section>

        <section id="building" class="tutorial-section">
            <h2>üèóÔ∏è Building Patterns Step by Step</h2>
            <p>Let's build a complete drum track from scratch, adding one element at a time!</p>
            
            <div class="building-steps">
                <div class="step">
                    <h3>Step 1: Start with a Kick</h3>
                    <p>Every good beat starts with a solid kick drum:</p>
                    <div class="code-example">
                        <pre><code>// Simple kick on every beat
sound("bd bd bd bd")</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 2: Add Some Space</h3>
                    <p>Let's make it more interesting with rests:</p>
                    <div class="code-example">
                        <pre><code>// Kick with space
sound("bd ~ bd ~")</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 3: Add a Snare</h3>
                    <p>Now add a snare on beats 2 and 4:</p>
                    <div class="code-example">
                        <pre><code>// Classic kick-snare pattern
sound("bd sd bd sd")</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 4: Layer with Hi-hats</h3>
                    <p>Use <code>stack()</code> to layer hi-hats on top:</p>
                    <div class="code-example">
                        <pre><code>// Layer kick/snare with hi-hats
stack(
  sound("bd sd bd sd"),
  sound("hh hh hh hh")
)</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 5: Make Hi-hats Quieter</h3>
                    <p>Control the volume with <code>.gain()</code>:</p>
                    <div class="code-example">
                        <pre><code>// Quieter hi-hats
stack(
  sound("bd sd bd sd"),
  sound("hh hh hh hh").gain(0.4)
)</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 6: Add Variation</h3>
                    <p>Mix closed and open hi-hats:</p>
                    <div class="code-example">
                        <pre><code>// Varied hi-hats
stack(
  sound("bd sd bd sd"),
  sound("hh hh oh hh").gain(0.4)
)</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 7: Double the Hi-hats</h3>
                    <p>Make them twice as fast:</p>
                    <div class="code-example">
                        <pre><code>// Faster hi-hats
stack(
  sound("bd sd bd sd"),
  sound("hh hh oh hh").gain(0.4).fast(2)
)</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 8: Add Some Flavor</h3>
                    <p>Throw in some claps and cymbals:</p>
                    <div class="code-example">
                        <pre><code>// Full drum pattern
stack(
  sound("bd sd bd sd"),
  sound("hh hh oh hh").gain(0.4).fast(2),
  sound("~ ~ cp ~").gain(0.6),
  sound("~ ~ ~ cy").gain(0.3)
)</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 9: Add Effects</h3>
                    <p>Make it sound professional with reverb:</p>
                    <div class="code-example">
                        <pre><code>// With reverb
stack(
  sound("bd sd bd sd"),
  sound("hh hh oh hh").gain(0.4).fast(2),
  sound("~ ~ cp ~").gain(0.6).room(0.3),
  sound("~ ~ ~ cy").gain(0.3).room(0.5)
)</code></pre>
                    </div>
                </div>

                <div class="step">
                    <h3>Step 10: Make it Groove</h3>
                    <p>Add some swing and randomness:</p>
                    <div class="code-example">
                        <pre><code>// Groovy final pattern
stack(
  sound("bd sd bd sd"),
  sound("hh hh oh hh").gain(0.4).fast(2).sometimes(x => x.fast(2)),
  sound("~ ~ cp ~").gain(0.6).room(0.3),
  sound("~ ~ ~ cy").gain(0.3).room(0.5).rarely(x => x.fast(2))
)</code></pre>
                    </div>
                </div>
            </div>

            <div class="building-challenge">
                <h3>üéØ Your Turn!</h3>
                <p>Try building your own pattern step by step. Start simple and add one element at a time!</p>
                <div class="challenge-examples">
                    <div class="challenge">
                        <h4>Challenge 1: Build a House Beat</h4>
                        <p>Start with: <code>sound("bd ~ bd ~")</code></p>
                        <p>Add hi-hats every 8th note, then add some open hi-hats occasionally</p>
                    </div>
                    <div class="challenge">
                        <h4>Challenge 2: Create a Breakbeat</h4>
                        <p>Start with: <code>sound("bd sd")</code></p>
                        <p>Add complex hi-hat patterns and some snare variations</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="sounds" class="tutorial-section">
            <h2>Working with Sounds</h2>
            
            <div class="concept">
                <h3>Sample Banks</h3>
                <p>Strudel includes various sample banks:</p>
                <div class="code-example">
                    <pre><code>// Piano samples
sound("piano:0 piano:1 piano:2")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Vocal samples
sound("piano:0 piano:1 piano:2")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Bass samples
sound("sawtooth:0 sawtooth:1 sawtooth:2")</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Effects</h3>
                <p>Add effects to your sounds:</p>
                <div class="code-example">
                    <pre><code>// Add reverb
sound("bd sd").room(0.5)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Low-pass filter
sound("hh*4").lpf(800)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// High-pass filter
sound("sawtooth").note("c3 d3").hpf(200)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Delay effect
sound("sd").delay(0.25)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Volume Control</h3>
                <p>Control the volume of sounds:</p>
                <div class="code-example">
                    <pre><code>// Quiet hi-hats
sound("bd hh*4 sd hh*4").gain(0.7)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Dynamic volume
sound("bd sd").gain(0.8)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Pitch Control</h3>
                <p>Change the pitch of samples:</p>
                <div class="code-example">
                    <pre><code>// Higher pitch
sound("bd sd").speed(1.5)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Random pitch variations
sound("hh*4").speed(1.2)</code></pre>
                </div>
            </div>
        </section>

        <section id="advanced" class="tutorial-section">
            <h2>Advanced Techniques</h2>
            
            <div class="concept">
                <h3>Euclidean Rhythms</h3>
                <p>Create complex rhythms with euclidean patterns:</p>
                                <div class="code-example">
                    <pre><code>// Simple euclidean rhythm
sound("bd").euclidean(3, 8)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Another euclidean pattern
sound("cp").euclidean(5, 12)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Layered euclidean rhythms (same length)
stack(
  sound("bd").euclidean(3, 8),
  sound("sd").euclidean(5, 8),
  sound("hh").euclidean(7, 8).gain(0.4)
)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Different euclidean patterns (same length)
stack(
  sound("bd").euclidean(4, 16),
  sound("sd").euclidean(6, 16),
  sound("hh").euclidean(11, 16).gain(0.3)
)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Euclidean with effects
sound("hh").euclidean(13, 16).gain(0.5).lpf(800)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Pattern Transformations</h3>
                <p>Transform patterns over time:</p>
                <div class="code-example">
                    <pre><code>// Half speed
sound("bd hh sd hh").slow(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Random variations
sound("bd sd").sometimes(x => x.fast(2))</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Conditional effects
sound("hh*4").lpf(400)</code></pre>
                </div>
            </div>

                        <div class="concept">
                <h3>Melodic Patterns</h3>
                <p>Create melodies with notes:</p>
                <div class="code-example">
                    <pre><code>// Simple melody
sound("piano").note("c d e f g a b c5")</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Slow chord progression (all 4 chords)
sound("piano").note("<c e g> <d f a> <e g b> <f a c>").slow(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Classic I-V-vi-IV progression
sound("piano").note("<c e g> <g b d> <a c e> <f a c>").slow(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Chords with rhythm
sound("piano").note("<c e g>*2 <d f a>*2 <e g b>*2 <f a c>*2").slow(4)</code></pre>
                </div>
                                <div class="code-example">
                    <pre><code>// Bass + chords layered
stack(
  sound("piano").note("c d e f").slow(2),
  sound("piano").note("<c e g> <d f a> <e g b> <f a c>").slow(2).gain(0.7)
)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Arpeggiated chords
sound("piano").note("c e g c d f a d").slow(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Bass line with rhythm
sound("sawtooth").note("c3 ~ c3 g3").lpf(400)</code></pre>
                </div>
            </div>
                <div class="code-example">
                    <pre><code>// Chord progression
sound("piano").note("<c e g> <d f a> <e g b> <f a c>").slow(2)</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Bass line with rhythm
sound("sawtooth").note("c3 ~ c3 g3").lpf(400)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Polyrhythms</h3>
                <p>Layer patterns with different lengths:</p>
                <div class="code-example">
                    <pre><code>// Consistent pattern lengths
stack(
  sound("bd sd bd sd"),           // 4 steps
  sound("hh hh hh hh"),         // 4 steps
  sound("cp ~ cp ~")             // 4 steps
)</code></pre>
                </div>
            </div>

            <div class="concept">
                <h3>Live Coding Techniques</h3>
                <p>Techniques for live performance:</p>
                <div class="code-example">
                    <pre><code>// Gradual changes
sound("bd sd").sometimes(x => x.room(0.5)).rarely(x => x.rev())</code></pre>
                </div>
                <div class="code-example">
                    <pre><code>// Build-ups and breakdowns
sound("hh*4").gain(0.5).lpf(800)</code></pre>
                </div>
            </div>
        </section>

        <section id="repl" class="tutorial-section">
            <h2>üéÆ Live Strudel REPL</h2>
            <p>Now try the real Strudel REPL! Copy any example from above and paste it here, or write your own patterns.</p>
            
            <div class="repl-container">
                <div class="repl-instructions">
                    <h3>How to use:</h3>
                    <ul>
                        <li>Type or paste Strudel code in the editor below</li>
                        <li>Press <kbd>Ctrl+Enter</kbd> (or <kbd>Cmd+Enter</kbd> on Mac) to play</li>
                        <li>Press <kbd>Ctrl+.</kbd> to stop all sounds</li>
                        <li>Try the example buttons for quick starts</li>
                    </ul>
                </div>
                
                                <div class="example-buttons">
                    <button class="example-btn" data-code='sound("bd hh sd hh")'>Basic Beat</button>
                    <button class="example-btn" data-code='sound("bd sd").fast(2)'>Fast Beat</button>
                    <button class="example-btn" data-code='sound("hh*4").lpf(400)'>Filtered Hi-hats</button>
                    <button class="example-btn" data-code='stack(sound("bd ~ bd ~"), sound("~ sd ~ sd"), sound("hh*4").gain(0.3))'>Layered Drums</button>
                    <button class="example-btn" data-code='sound("piano").note("c d e f g a b c5")'>Piano Melody</button>
                    <button class="example-btn" data-code='sound("bd").euclidean(3, 8)'>Euclidean Rhythm</button>
                    <button class="example-btn" data-code='stack(sound("bd sd bd sd"), sound("hh hh oh hh").gain(0.4).fast(2), sound("~ ~ cp ~").gain(0.6).room(0.3))'>Full Drum Kit</button>
                    <button class="example-btn" data-code='sound("sawtooth").note("c3 ~ c3 g3").lpf(400)'>Bass Line</button>
                    <button class="example-btn" data-code='sound("piano").note("<c e g> <d f a> <e g b> <f a c>").slow(2)'>Chord Progression</button>
                    <button class="example-btn" data-code='sound("bd sd").sometimes(x => x.fast(2))'>Live Coding Style</button>
                </div>

                <iframe 
                    id="strudel-repl" 
                    src="https://strudel.cc/?embed=1&hideHeader=1&hideFooter=1" 
                    width="100%" 
                    height="600"
                    frameborder="0"
                    allow="autoplay; microphone">
                </iframe>
            </div>

            <div class="repl-tips">
                <h3>üí° Pro Tips:</h3>
                <ul>
                    <li><strong>Start simple:</strong> Begin with <code>sound("bd hh sd hh")</code></li>
                    <li><strong>Build gradually:</strong> Add one element at a time like in the "Building Up" section</li>
                    <li><strong>Layer sounds:</strong> Use <code>stack()</code> to combine patterns</li>
                    <li><strong>Add effects:</strong> Try <code>.room(0.5)</code>, <code>.lpf(800)</code>, <code>.delay(0.25)</code></li>
                    <li><strong>Control speed:</strong> Use <code>.fast(2)</code> or <code>.slow(2)</code></li>
                    <li><strong>Create melodies:</strong> Use <code>.note("c d e f")</code> with piano or synth sounds</li>
                    <li><strong>Make it random:</strong> Try <code>.sometimes(x => x.fast(2))</code></li>
                    <li><strong>Live coding:</strong> Change patterns while they're playing for dynamic performances!</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p>Learn more at <a href="https://strudel.cc" target="_blank">strudel.cc</a></p>
        <p>Built with ‚ù§Ô∏è for the live coding community</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>